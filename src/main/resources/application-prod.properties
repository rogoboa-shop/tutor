spring.application.name=tutor

# Server Configuration
server.port=${PORT:8080}

app.cors.allowed-origins=${CORS_ORIGIN}

# For your local machine
app.env=prod

# CORS Configuration
app.cors.allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
app.cors.allowed-headers=*
app.cors.allow-credentials=true
app.cors.max-age=3600

# Valkey Cluster Configuration
spring.data.redis.cluster.nodes=${SPRING_DATA_REDIS_CLUSTER_NODES}

# Local Docker Valkey (Standalone)
#spring.data.redis.host=localhost
#spring.data.redis.port=6379

# Connection Pool Settings (Optional but recommended)
#spring.data.redis.lettuce.pool.max-active=20
#spring.data.redis.lettuce.pool.max-idle=10

#spring.cloud.gcp.sql.enabled=false

# Database Configuration (MySQL Example)
spring.datasource.url=jdbc:postgresql://ep-blue-butterfly-ah02a4o1-pooler.c-3.us-east-1.aws.neon.tech/neondb?user=neondb_owner&password=npg_cNJo4jUxFs7r&sslmode=require&channelBinding=require
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}
spring.jpa.hibernate.ddl-auto=update
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Optional: format SQL output nicely
spring.jpa.properties.hibernate.format_sql=true

# JWT Security Settings
# Generate a secure key: openssl rand -base64 32
application.security.jwt.secret-key=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970
application.security.jwt.expiration=3600000
application.security.jwt.refresh-token.expiration=604800000

# ===================================
# EMAIL CONFIGURATION FOR rogoboa.com
# ===================================

# Mail Server Configuration
spring.mail.host=${EMAIL_HOST}
spring.mail.port=${EMAIL_PORT}
spring.mail.username=${EMAIL_ADDRESS}
spring.mail.password=${EMAIL_PASSWORD}

# SMTP Security Settings
spring.mail.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Connection timeouts (highly recommended for production)
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# If using SSL (port 465), uncomment these instead:
# spring.mail.port=465
# spring.mail.properties.mail.smtp.ssl.enable=true
# spring.mail.properties.mail.smtp.socketFactory.port=465
# spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory

# Email Configuration
app.email.from=tutor@rogoboa.com
app.email.from-name=Rogoboa Tutor
app.base-url=https://tutor.rogoboa.com
# In production, change to: app.base-url=https://rogoboa.com

# Optional: Enable debug for troubleshooting
# spring.mail.properties.mail.debug=true